jQuery(document).ready((function(t){function e(e){var n=e.$button.siblings(".api-validation-status"),i=t('input[name="glue_link_settings['+e.fieldName+']"]');if(i.length){e.$button.prop("disabled",!0),n.html('<span class="spinner is-active" style="float: none; margin: 0;"></span>');var o={action:e.action,nonce:GlueLinkAdmin.nonce};o[e.fieldName]=i.val(),t.ajax({url:ajaxurl,type:"POST",data:o,success:function(t){t.success?n.html('<span style="color: green;">'+t.data.message+"</span>"):n.html('<span style="color: #a60000;">'+t.data.message+"</span>")},error:function(){n.html('<span style="color: #a60000;">'+GlueLinkAdmin.strings.api_validation_error+"</span>")},complete:function(){e.$button.prop("disabled",!1)}})}else n.html('<span style="color: #a60000;">Field not found.</span>')}t(".validate-api-key").on("click",(function(n){n.preventDefault(),e({fieldName:"kit_api_key",action:"glue_link_validate_api",$button:t(this)})})),t(".validate-api-secret").on("click",(function(n){n.preventDefault(),e({fieldName:"kit_api_secret",action:"glue_link_validate_api_secret",$button:t(this)})})),t(".test-kit-connection").on("click",(function(e){e.preventDefault();var n=t(this),i=n.siblings(".kit-connection-status");n.prop("disabled",!0),i.html('<span class="spinner is-active" style="float: none; margin: 0;"></span>'),t.ajax({url:ajaxurl,type:"POST",data:{action:"glue_link_test_kit_connection",nonce:GlueLinkAdmin.nonce},success:function(t){t.success?i.html('<span style="color: green;">'+t.data.message+"</span>"):i.html('<span style="color: #a60000;">'+t.data.message+"</span>")},error:function(){i.html('<span style="color: #a60000;">'+GlueLinkAdmin.strings.api_validation_error+"</span>")},complete:function(){n.prop("disabled",!1)}})}))}));
